Part #1 Создание схемы и таблиц
```
DROP SCHEMA IF EXISTS info21 CASCADE;
CREATE SCHEMA info21;
SET search_path TO info21;

-- ENUM для статусов проверки
CREATE TYPE check_status AS ENUM ('Start', 'Success', 'Failure');

-- Таблица Peers
CREATE TABLE Peers (
    id SERIAL PRIMARY KEY,
    nickname VARCHAR(50) UNIQUE NOT NULL
);

-- Таблица Tasks
CREATE TABLE Tasks (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) UNIQUE NOT NULL,
    max_xp INTEGER NOT NULL
);

-- Таблица Checks
CREATE TABLE Checks (
    id SERIAL PRIMARY KEY,
    peer_id INTEGER REFERENCES Peers(id),
    task_id INTEGER REFERENCES Tasks(id),
    date TIMESTAMP DEFAULT NOW()
);

-- P2P проверки
CREATE TABLE P2P (
    id SERIAL PRIMARY KEY,
    check_id INTEGER REFERENCES Checks(id) ON DELETE CASCADE,
    checking_peer INTEGER REFERENCES Peers(id),
    status check_status,
    time TIMESTAMP DEFAULT NOW()
);

-- Verter проверки
CREATE TABLE Verter (
    id SERIAL PRIMARY KEY,
    check_id INTEGER REFERENCES Checks(id) ON DELETE CASCADE,
    status check_status,
    time TIMESTAMP DEFAULT NOW()
);

-- Трансферы P2P баллов
CREATE TABLE TransferredPoints (
    id SERIAL PRIMARY KEY,
    checking_peer INTEGER REFERENCES Peers(id),
    checked_peer INTEGER REFERENCES Peers(id),
    points INTEGER NOT NULL
);

-- Дружба
CREATE TABLE Friends (
    peer1 INTEGER REFERENCES Peers(id),
    peer2 INTEGER REFERENCES Peers(id),
    PRIMARY KEY (peer1, peer2)
);

-- Рекомендации
CREATE TABLE Recommendations (
    id SERIAL PRIMARY KEY,
    peer_id INTEGER REFERENCES Peers(id),
    recommended_peer INTEGER REFERENCES Peers(id)
);

-- XP
CREATE TABLE XP (
    id SERIAL PRIMARY KEY,
    check_id INTEGER REFERENCES Checks(id),
    xp_amount INTEGER NOT NULL
);

-- Отслеживание времени присутствия
CREATE TABLE TimeTracking (
    id SERIAL PRIMARY KEY,
    peer_id INTEGER REFERENCES Peers(id),
    visit_time TIMESTAMP DEFAULT NOW(),
    state VARCHAR(10) CHECK (state IN ('in', 'out'))
);
```
Part #2 Процедуры + триггеры

Part #3 Функции получения данных
